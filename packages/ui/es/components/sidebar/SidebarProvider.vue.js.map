{"version":3,"file":"SidebarProvider.vue.js","sources":["../../../src/components/sidebar/SidebarProvider.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { cn } from '@/lib/utils'\r\nimport { useEventListener, useMediaQuery, useVModel } from '@vueuse/core'\r\nimport { TooltipProvider } from 'radix-vue'\r\nimport { computed, type HTMLAttributes, type Ref, ref } from 'vue'\r\nimport { provideSidebarContext, SIDEBAR_COOKIE_MAX_AGE, SIDEBAR_COOKIE_NAME, SIDEBAR_KEYBOARD_SHORTCUT, SIDEBAR_WIDTH, SIDEBAR_WIDTH_ICON } from './utils'\r\n\r\nconst props = withDefaults(defineProps<{\r\n  defaultOpen?: boolean\r\n  open?: boolean\r\n  class?: HTMLAttributes['class']\r\n}>(), {\r\n  defaultOpen: true,\r\n  open: undefined,\r\n})\r\n\r\nconst emits = defineEmits<{\r\n  'update:open': [open: boolean]\r\n}>()\r\n\r\nconst isMobile = useMediaQuery('(max-width: 768px)')\r\nconst openMobile = ref(false)\r\n\r\nconst open = useVModel(props, 'open', emits, {\r\n  defaultValue: props.defaultOpen ?? false,\r\n  passive: (props.open === undefined) as false,\r\n}) as Ref<boolean>\r\n\r\nfunction setOpen(value: boolean) {\r\n  open.value = value // emits('update:open', value)\r\n\r\n  // This sets the cookie to keep the sidebar state.\r\n  document.cookie = `${SIDEBAR_COOKIE_NAME}=${open.value}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\r\n}\r\n\r\nfunction setOpenMobile(value: boolean) {\r\n  openMobile.value = value\r\n}\r\n\r\n// Helper to toggle the sidebar.\r\nfunction toggleSidebar() {\r\n  return isMobile.value ? setOpenMobile(!openMobile.value) : setOpen(!open.value)\r\n}\r\n\r\nuseEventListener('keydown', (event: KeyboardEvent) => {\r\n  if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\r\n    event.preventDefault()\r\n    toggleSidebar()\r\n  }\r\n})\r\n\r\n// We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\r\n// This makes it easier to style the sidebar with Tailwind classes.\r\nconst state = computed(() => open.value ? 'expanded' : 'collapsed')\r\n\r\nprovideSidebarContext({\r\n  state,\r\n  open,\r\n  setOpen,\r\n  isMobile,\r\n  openMobile,\r\n  setOpenMobile,\r\n  toggleSidebar,\r\n})\r\n</script>\r\n\r\n<template>\r\n  <TooltipProvider :delay-duration=\"0\">\r\n    <div\r\n      :style=\"{\r\n        '--sidebar-width': SIDEBAR_WIDTH,\r\n        '--sidebar-width-icon': SIDEBAR_WIDTH_ICON,\r\n      }\"\r\n      :class=\"cn('group/sidebar-wrapper flex min-h-svh w-full text-sidebar-foreground has-[[data-variant=inset]]:bg-sidebar', props.class)\"\r\n      v-bind=\"$attrs\"\r\n    >\r\n      <slot />\r\n    </div>\r\n  </TooltipProvider>\r\n</template>\r\n"],"names":["props","__props","emits","__emit","isMobile","useMediaQuery","openMobile","ref","open","useVModel","setOpen","value","SIDEBAR_COOKIE_NAME","SIDEBAR_COOKIE_MAX_AGE","setOpenMobile","toggleSidebar","useEventListener","event","SIDEBAR_KEYBOARD_SHORTCUT","state","computed","provideSidebarContext"],"mappings":";;;;;;;;;;;;;;AAOA,UAAMA,IAAQC,GASRC,IAAQC,GAIRC,IAAWC,EAAc,oBAAoB,GAC7CC,IAAaC,EAAI,EAAK,GAEtBC,IAAOC,EAAUT,GAAO,QAAQE,GAAO;AAAA,MAC3C,cAAcF,EAAM,eAAe;AAAA,MACnC,SAAUA,EAAM,SAAS;AAAA,IAAA,CAC1B;AAED,aAASU,EAAQC,GAAgB;AAC/B,MAAAH,EAAK,QAAQG,GAGb,SAAS,SAAS,GAAGC,CAAmB,IAAIJ,EAAK,KAAK,qBAAqBK,CAAsB;AAAA,IAAA;AAGnG,aAASC,EAAcH,GAAgB;AACrC,MAAAL,EAAW,QAAQK;AAAA,IAAA;AAIrB,aAASI,IAAgB;AAChB,aAAAX,EAAS,QAAQU,EAAc,CAACR,EAAW,KAAK,IAAII,EAAQ,CAACF,EAAK,KAAK;AAAA,IAAA;AAG/D,IAAAQ,EAAA,WAAW,CAACC,MAAyB;AACpD,MAAIA,EAAM,QAAQC,MAA8BD,EAAM,WAAWA,EAAM,aACrEA,EAAM,eAAe,GACPF,EAAA;AAAA,IAChB,CACD;AAID,UAAMI,IAAQC,EAAS,MAAMZ,EAAK,QAAQ,aAAa,WAAW;AAE5C,WAAAa,EAAA;AAAA,MACpB,OAAAF;AAAA,MACA,MAAAX;AAAA,MACA,SAAAE;AAAA,MACA,UAAAN;AAAA,MACA,YAAAE;AAAA,MACA,eAAAQ;AAAA,MACA,eAAAC;AAAA,IAAA,CACD;;;;;;;;;;;;;;;;"}